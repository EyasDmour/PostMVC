@model IEnumerable<PostMVC.Models.Tasks>
<h2>Tasks</h2>

<form method="get">
    <div class="mb-3">
        <label>Select Project:</label>
        <select name="projectId" class="form-control" onchange="this.form.submit()">
            <option value="">-- Select a Project --</option>
            @if (ViewBag.Projects != null)
            {
                foreach (var project in ViewBag.Projects)
                {
                    <!option value="@project.Id" @(Context.Request.Query["projectId"] == project.Id.ToString() ? "selected" : "")>
                        @project.Name
                    </!option>
                }
            }
        </select>
    </div>
</form>

@if (Model != null && Model.Any())
{
    <ul>
    @foreach (var t in Model)
    {
        <li>@t.Title</li>
    }
    </ul>
}

<a asp-controller="Tasks" asp-action="Create" class="btn btn-primary"> Add Task</a>